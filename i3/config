# i3 config file (v4)
# Please see https://i3wm.org/docs/userguide.html for a complete reference!

set $mod Mod4

font pango:Hack Nerd Font 11

# xss-lock grabs a logind suspend inhibit lock and will use i3lock to lock the
# screen before suspend. Use loginctl lock-session to lock your screen.
#exec --no-startup-id xss-lock --transfer-sleep-lock -- i3lock --nofork

# NetworkManager is the most popular way to manage wireless networks on Linux,
# and nm-applet is a desktop environment-independent system tray GUI for it.
#exec --no-startup-id nm-applet

# backlight #nvm doing it in acpi instead
#bindsym XF86MonBrightnessUp exec --no-startup-id pkill -SIGRTMIN+1 i3blocks
#bindsym XF86MonBrightnessDown exec --no-startup-id pkill -SIGRTMIN+1 i3blocks

# Use pactl to adjust volume in PulseAudio.
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +2% && pkill -SIGRTMIN+2 i3blocks
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -2% && pkill -SIGRTMIN+2 i3blocks
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle && pkill -SIGRTMIN+2 i3blocks

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# multiple screens
#exec --no-startup-id xrandr | grep 'HDMI2 connected' && xrandr --output eDP1 --auto --output HDMI2 --auto --left-of eDP1

# start a terminal
#bindsym $mod+Return exec i3-sensible-terminal
#bindsym $mod+d exec i3-sensible-terminal
bindsym $mod+Return exec kitty
bindsym $mod+d exec kitty

# screenshot
bindsym $mod+shift+s --release exec --no-startup-id import png:- | xclip -sel clipboard -t image/png
bindsym Print exec --no-startup-id import -window root png:- | xclip -sel clipboard -t image/png

# gaps
#gaps inner 4
#gaps outer 0
#smart_gaps inverse_outer
#smart_gaps on

# borders
default_border pixel 1
default_floating_border pixel 1
hide_edge_borders none

# colours from $HOME/.config/xinit/Xresources
set_from_resource	$background	background
set_from_resource	$foreground	foreground
set_from_resource	$color0		color0
set_from_resource 	$color1 	color1
set_from_resource 	$color2 	color2
set_from_resource 	$color3 	color3
set_from_resource 	$color4 	color4
set_from_resource 	$color5 	color5
set_from_resource 	$color6		color6
set_from_resource	$color7		color7
set_from_resource	$color8		color8
set_from_resource	$color9		color9
set_from_resource	$color10	color10
set_from_resource	$color11	color11
set_from_resource	$color12	color12
set_from_resource	$color13	color13
set_from_resource	$color14	color14
set_from_resource	$color15	color15

# <colorclass>			<border>	<backgrnd>	<text>		<indicator>	<child_border>
client.focused			$foreground	$background	$foreground	$foreground	$foreground
client.focused_inactive	$foreground	$background	$foreground	$color8		$color8
client.unfocused		$foreground	$background	$foreground	$color8		$color8
client.urgent			$foreground	$background	$foreground	$color1		$color1
client.placeholder		$foreground	$background	$foreground	$background	$background
client.background		$background

# scratchpad
bindsym $mod+z move scratchpad exec --no-startup-id pkill -SIGRTMIN+3 i3blocks
bindsym $mod+shift+z exec --no-startup-id scratchpad-show -d

# kill focused window
bindsym $mod+shift+q kill

# start dmenu or rofi
bindsym $mod+shift+d exec --no-startup-id dmenu_run -i -p "exec:" -l 10
#bindsym $mod+shift+d exec --no-startup-id rofi -modi drun#window#run -show drun
bindsym $mod+shift+Return exec --no-startup-id dmenu_run -i -p "exec:" -l 10
#bindsym $mod+shift+Return exec --no-startup-id rofi -modi drun#window#run -show drun

# focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

bindsym $mod+KP_Left focus left
bindsym $mod+KP_Down focus down
bindsym $mod+KP_Up focus up
bindsym $mod+KP_Right focus right

bindsym $mod+shift+Tab focus left
bindsym $mod+Tab focus right

# move
bindsym $mod+shift+h move left
bindsym $mod+shift+j move down
bindsym $mod+shift+k move up
bindsym $mod+shift+l move right

bindsym $mod+shift+Left move left
bindsym $mod+shift+Down move down
bindsym $mod+shift+Up move up
bindsym $mod+shift+Right move right

bindsym $mod+shift+KP_Left move left
bindsym $mod+shift+KP_Down move down
bindsym $mod+shift+KP_Up move up
bindsym $mod+shift+KP_Right move right

# split
bindsym $mod+g split h
bindsym $mod+v split v

# fullscreen
bindsym $mod+f fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# toggle tiling / floating
bindsym $mod+shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# focus the parent container
bindsym $mod+a focus parent

# focus the child container
bindsym $mod+shift+a focus child
#bindsym $mod+d focus child

# default workspaces
set $ws0 "0"
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"

# switch to workspace
bindsym $mod+grave workspace number $ws0
bindsym $mod+1 workspace number $ws1
bindsym $mod+2 workspace number $ws2
bindsym $mod+3 workspace number $ws3
bindsym $mod+4 workspace number $ws4
bindsym $mod+5 workspace number $ws5
bindsym $mod+6 workspace number $ws6
bindsym $mod+7 workspace number $ws7
bindsym $mod+8 workspace number $ws8
bindsym $mod+9 workspace number $ws9

bindsym $mod+KP_0 workspace number $ws0
bindsym $mod+KP_1 workspace number $ws1
bindsym $mod+KP_2 workspace number $ws2
bindsym $mod+KP_3 workspace number $ws3
bindsym $mod+KP_4 workspace number $ws4
bindsym $mod+KP_5 workspace number $ws5
bindsym $mod+KP_6 workspace number $ws6
bindsym $mod+KP_7 workspace number $ws7
bindsym $mod+KP_8 workspace number $ws8
bindsym $mod+KP_9 workspace number $ws9

bindsym $mod+Next workspace next
bindsym $mod+Prior workspace prev
bindsym $mod+KP_Next workspace next
bindsym $mod+KP_Prior workspace prev

# move focused container to workspace
bindsym $mod+shift+grave move container to workspace number $ws0
bindsym $mod+shift+1 move container to workspace number $ws1
bindsym $mod+shift+2 move container to workspace number $ws2
bindsym $mod+shift+3 move container to workspace number $ws3
bindsym $mod+shift+4 move container to workspace number $ws4
bindsym $mod+shift+5 move container to workspace number $ws5
bindsym $mod+shift+6 move container to workspace number $ws6
bindsym $mod+shift+7 move container to workspace number $ws7
bindsym $mod+shift+8 move container to workspace number $ws8
bindsym $mod+shift+9 move container to workspace number $ws9

bindsym $mod+shift+KP_0 move container to workspace number $ws0
bindsym $mod+shift+KP_1 move container to workspace number $ws1
bindsym $mod+shift+KP_2 move container to workspace number $ws2
bindsym $mod+shift+KP_3 move container to workspace number $ws3
bindsym $mod+shift+KP_4 move container to workspace number $ws4
bindsym $mod+shift+KP_5 move container to workspace number $ws5
bindsym $mod+shift+KP_6 move container to workspace number $ws6
bindsym $mod+shift+KP_7 move container to workspace number $ws7
bindsym $mod+shift+KP_8 move container to workspace number $ws8
bindsym $mod+shift+KP_9 move container to workspace number $ws9

bindsym $mod+shift+Next move container to workspace next
bindsym $mod+shift+Prior move container to workspace prev
bindsym $mod+shift+KP_Next move container to workspace next
bindsym $mod+shift+KP_Prior move container to workspace prev

# reload the configuration file
bindsym $mod+shift+c reload
# restart i3 inplace
bindsym $mod+shift+r restart

# resize window
bindsym $mod+control+h resize shrink width 10 px or 10 ppt
bindsym $mod+control+j resize grow height 10 px or 10 ppt
bindsym $mod+control+k resize shrink height 10 px or 10 ppt
bindsym $mod+control+l resize grow width 10 px or 10 ppt

bindsym $mod+control+Left resize shrink width 10 px or 10 ppt
bindsym $mod+control+Down resize grow height 10 px or 10 ppt
bindsym $mod+control+Up resize shrink height 10 px or 10 ppt
bindsym $mod+control+Right resize grow width 10 px or 10 ppt

# power control
set $ptd $HOME/scripts/power-thing-dmenu
set $pt $HOME/scripts/power-thing

bindsym $mod+Escape exec --no-startup-id $ptd
bindsym XF86PowerOff exec --no-startup-id $ptd
bindsym $mod+p exec --no-startup-id $pt lock
bindsym $mod+XF86PowerOff exec --no-startup-id $pt suspend
bindsym $mod+shift+XF86PowerOff exec --no-startup-id $pt hibernate

# compton no
#exec --no-startup-id picom

# bg
exec_always --no-startup-id $HOME/.config/fehbg

# bar
bar {
	position top
	workspace_buttons yes
	workspace_min_width 50
	tray_output none
	separator_symbol "|"
	status_command i3blocks

	font pango:Hack Nerd Font 11.5
	colors {
		background $background
		statusline $foreground
		separator $foreground

		# <colorclass>		<border>	<backgrnd>	<text>
		focused_workspace	$foreground	$background	$foreground
		active_workspace	$foreground	$background	$foreground
		inactive_workspace	$background	$background	$foreground
		urgent_workspace	$color1		$background	$foreground
		binding_mode		$background	$background	$foreground
	}
}
#exec_always --no-startup-id $HOME/.config/polybar/launch.sh
